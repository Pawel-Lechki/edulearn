---
import { logout } from "../../../use-cases/actions/logout";
import LogoutButton from "../../components/Buttons/LogoutButton";
import Layout from "../../layouts/Layout.astro";

export const prerender = false

---

<Layout title="Panel użytkownika" description="Panel użytkownika">
  <div class="py-10 lg:container mx-auto w-full md:px-0 px-3">
    <div class="text-text rounded-lg bg-background1 p-5 shadow-lg flex flex-col gap-5">
      <div class="flex justify-between items-center">
        <h1 class="text-3xl font-bold">Panel użytkownika</h1>
        <LogoutButton client:visible />
      </div>

      <div class="grid md:grid-cols-2 gap-6">
        <div class="bg-background2 p-6 rounded-lg">
          <h2 class="text-xl font-semibold mb-4">Informacje o koncie</h2>
          <div class="space-y-2" id="userInfo">
            <!-- User info will be populated by JavaScript -->
          </div>
        </div>

        <div class="bg-background2 p-6 rounded-lg">
          <h2 class="text-xl font-semibold mb-4">Moje kursy</h2>
          <div class="space-y-2">
            <p>Lista Twoich kursów pojawi się tutaj</p>
          </div>
        </div>
      </div>

      <div class="bg-background2 p-6 rounded-lg">
        <h2 class="text-xl font-semibold mb-4">Historia zamówień</h2>
        <div class="space-y-2">
          <p>Historia Twoich zamówień pojawi się tutaj</p>
        </div>
      </div>
    </div>
  </div>
</Layout>

<script>

  const userInfo = document.getElementById('userInfo');
  const userId = localStorage.getItem("userId");
  const userName = localStorage.getItem("userName");

  if (userInfo) {
    userInfo.innerHTML = `
      <p><span class="font-medium">ID użytkownika:</span> ${userId}</p>
      <p><span class="font-medium">Nazwa użytkownika:</span> ${userName}</p>
    `;
  }
</script>
